
> dental-scheduler@1.0.0 dev
> next dev

  â–² Next.js 14.2.17
  - Local:        http://localhost:3000
  - Environments: .env.local, .env

 âœ“ Starting...
 âœ“ Ready in 2.7s
 â—‹ Compiling /src/middleware ...
 âœ“ Compiled /src/middleware in 1150ms (204 modules)
 â—‹ Compiling /login ...
 âœ“ Compiled /login in 5.1s (668 modules)
 GET /login 200 in 5957ms
 âœ“ Compiled in 936ms (323 modules)
 â—‹ Compiling /_not-found ...
 âœ“ Compiled /api/auth/[...nextauth] in 4.1s (842 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 4144ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 3900ms
 GET /api/auth/session 200 in 77ms
 GET /api/auth/session 200 in 30ms
 GET /api/auth/session 200 in 27ms
 GET /api/auth/session 200 in 30ms
 GET /api/auth/session 200 in 25ms
 GET /api/auth/providers 200 in 77ms
 GET /api/auth/csrf 200 in 27ms
prisma:query SELECT "public"."User"."id", "public"."User"."email", "public"."User"."password", "public"."User"."name", "public"."User"."role"::text, "public"."User"."accountStatus"::text, "public"."User"."approvedBy", "public"."User"."approvedAt", "public"."User"."rejectedReason", "public"."User"."suspendedReason", "public"."User"."suspendedUntil", "public"."User"."clinicId", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Clinic"."id", "public"."Clinic"."name", "public"."Clinic"."address", "public"."Clinic"."phone", "public"."Clinic"."setupCompleted", "public"."Clinic"."createdAt", "public"."Clinic"."updatedAt" FROM "public"."Clinic" WHERE "public"."Clinic"."id" IN ($1) OFFSET $2
 POST /api/auth/callback/credentials? 200 in 332ms
 GET /api/auth/session 200 in 26ms
 âœ“ Compiled /api/setup/initial in 128ms (533 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Clinic"."id", "public"."Clinic"."setupCompleted" FROM "public"."Clinic" WHERE ("public"."Clinic"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
 GET /api/setup/initial 200 in 219ms
 â—‹ Compiling /calendar ...
 âœ“ Compiled /calendar in 1107ms (1029 modules)
 GET /calendar 200 in 1393ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 37ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 179ms
 GET /api/auth/session 200 in 43ms
 âœ“ Compiled /api/settings/combinations in 273ms (629 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 546ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 609ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 945ms
 âœ“ Compiled /api/staff in 269ms (631 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 610ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 324ms
 GET /api/staff 200 in 702ms
 GET /api/auth/session 200 in 57ms
 âœ“ Compiled /api/schedule in 236ms (633 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 434ms
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
 GET /api/schedule?year=2025&month=11 200 in 490ms
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
 GET /api/schedule?year=2025&month=11 200 in 492ms
 âœ“ Compiled in 467ms (416 modules)
 âœ“ Compiled in 1360ms (1047 modules)
 âœ“ Compiled in 1555ms (847 modules)
 âš  Fast Refresh had to perform a full reload due to a runtime error.
 GET /calendar 200 in 433ms
 âœ“ Compiled /_not-found in 327ms (836 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 451ms
 âœ“ Compiled /api/auth/[...nextauth] in 146ms (622 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 627ms
 GET /api/auth/session 200 in 157ms
 GET /api/auth/session 200 in 56ms
 GET /api/auth/session 200 in 48ms
 GET /api/auth/session 200 in 63ms
 âš  Fast Refresh had to perform a full reload due to a runtime error.
 âš  Fast Refresh had to perform a full reload due to a runtime error.
 âœ“ Compiled in 1571ms (1035 modules)
 GET /calendar 200 in 1143ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 56ms
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 341ms
 GET /api/auth/session 200 in 60ms
 âœ“ Compiled /api/settings/combinations in 396ms (624 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 740ms
prisma:query SELECT 1
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
prisma:query SELECT 1
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 778ms
 GET /api/settings/combinations 200 in 785ms
 âœ“ Compiled /api/staff in 146ms (626 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 437ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 473ms
 GET /api/staff 200 in 476ms
 âœ“ Compiled /api/schedule in 142ms (628 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
 GET /api/schedule?year=2025&month=11 200 in 393ms
 GET /api/auth/session 200 in 386ms
 GET /api/schedule?year=2025&month=11 200 in 399ms
 GET /api/auth/session 200 in 59ms
 âœ“ Compiled in 1190ms (1041 modules)
 âœ“ Compiled /api/staff in 349ms (622 modules)
 âœ“ Compiled (626 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."clinicId", "public"."Doctor"."name", "public"."Doctor"."shortName", "public"."Doctor"."specialization", "public"."Doctor"."useCategory", "public"."Doctor"."isActive", "public"."Doctor"."createdAt", "public"."Doctor"."updatedAt" FROM "public"."Doctor" WHERE "public"."Doctor"."clinicId" = $1 ORDER BY "public"."Doctor"."name" ASC OFFSET $2
prisma:query SELECT "public"."DoctorPattern"."id", "public"."DoctorPattern"."doctorId", "public"."DoctorPattern"."patternName", "public"."DoctorPattern"."isActive", "public"."DoctorPattern"."createdAt", "public"."DoctorPattern"."updatedAt" FROM "public"."DoctorPattern" WHERE ("public"."DoctorPattern"."isActive" = $1 AND "public"."DoctorPattern"."doctorId" IN ($2,$3,$4,$5,$6)) OFFSET $7
 GET /api/doctors 200 in 931ms
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."ScheduleDoctor"."scheduleId") WHERE ("public"."ScheduleDoctor"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
Querying leave applications for date: 2025-11-07T00:00:00.000Z
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" = $2 AND "public"."LeaveApplication"."status" = CAST($3::text AS "public"."ApplicationStatus")) OFFSET $4
Found leave applications: 0
 GET /api/schedule/day?date=2025-11-07 200 in 1130ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 1136ms
 âœ“ Compiled /api/settings/combinations in 113ms (628 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 220ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 43ms
 âœ“ Compiled /api/schedule in 113ms (630 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" WHERE "public"."ScheduleDoctor"."scheduleId" IN ($1) ORDER BY "public"."ScheduleDoctor"."date" ASC OFFSET $2
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."name", "public"."Doctor"."shortName" FROM "public"."Doctor" WHERE "public"."Doctor"."id" IN ($1,$2,$3,$4,$5) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" WHERE "public"."StaffAssignment"."scheduleId" IN ($1) ORDER BY "public"."StaffAssignment"."date" ASC OFFSET $2
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20) OFFSET $21
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" >= $2 AND "public"."LeaveApplication"."date" <= $3 AND "public"."LeaveApplication"."status" = CAST($4::text AS "public"."ApplicationStatus")) OFFSET $5
 GET /api/schedule?year=2025&month=10 200 in 224ms
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."ScheduleDoctor"."scheduleId") WHERE ("public"."ScheduleDoctor"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."name", "public"."Doctor"."shortName" FROM "public"."Doctor" WHERE "public"."Doctor"."id" IN ($1,$2,$3) OFFSET $4
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20) OFFSET $21
Querying leave applications for date: 2025-10-27T00:00:00.000Z
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" = $2 AND "public"."LeaveApplication"."status" = CAST($3::text AS "public"."ApplicationStatus")) OFFSET $4
Found leave applications: 0
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."clinicId", "public"."Doctor"."name", "public"."Doctor"."shortName", "public"."Doctor"."specialization", "public"."Doctor"."useCategory", "public"."Doctor"."isActive", "public"."Doctor"."createdAt", "public"."Doctor"."updatedAt" FROM "public"."Doctor" WHERE "public"."Doctor"."clinicId" = $1 ORDER BY "public"."Doctor"."name" ASC OFFSET $2
prisma:query SELECT "public"."DoctorPattern"."id", "public"."DoctorPattern"."doctorId", "public"."DoctorPattern"."patternName", "public"."DoctorPattern"."isActive", "public"."DoctorPattern"."createdAt", "public"."DoctorPattern"."updatedAt" FROM "public"."DoctorPattern" WHERE ("public"."DoctorPattern"."isActive" = $1 AND "public"."DoctorPattern"."doctorId" IN ($2,$3,$4,$5,$6)) OFFSET $7
 GET /api/doctors 200 in 112ms
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND "public"."StaffAssignment"."shiftType" = CAST($2::text AS "public"."ShiftType") AND ("j1"."clinicId" = $3 AND "j1"."status" IN (CAST($4::text AS "public"."ScheduleStatus"),CAST($5::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $6
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7) OFFSET $8
 GET /api/schedule/day?date=2025-10-27 200 in 117ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 107ms
 âœ“ Compiled /api/schedule/validate-staff-count in 148ms (632 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 223ms
 âœ“ Compiled /api/staff/weekly-work-days in 181ms (634 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxa7000o12ly5e9hlz44&date=2025-10-27 200 in 268ms
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxaa000q12ly7rzk2abo&date=2025-10-27 200 in 50ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 42ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 61ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 41ms
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxaw001k12lya5c41k0s&date=2025-10-27 200 in 81ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 52ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 43ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 42ms
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxax001m12lyjme5a44v&date=2025-10-27 200 in 56ms
 âœ“ Compiled in 1765ms (847 modules)
 âœ“ Compiled in 1048ms (847 modules)
 âœ“ Compiled in 974ms (847 modules)
 âœ“ Compiled in 1084ms (847 modules)
 â—‹ Compiling /api/staff ...
 âœ“ Compiled /api/staff in 819ms (622 modules)
 âœ“ Compiled (626 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."clinicId", "public"."Doctor"."name", "public"."Doctor"."shortName", "public"."Doctor"."specialization", "public"."Doctor"."useCategory", "public"."Doctor"."isActive", "public"."Doctor"."createdAt", "public"."Doctor"."updatedAt" FROM "public"."Doctor" WHERE "public"."Doctor"."clinicId" = $1 ORDER BY "public"."Doctor"."name" ASC OFFSET $2
prisma:query SELECT "public"."DoctorPattern"."id", "public"."DoctorPattern"."doctorId", "public"."DoctorPattern"."patternName", "public"."DoctorPattern"."isActive", "public"."DoctorPattern"."createdAt", "public"."DoctorPattern"."updatedAt" FROM "public"."DoctorPattern" WHERE ("public"."DoctorPattern"."isActive" = $1 AND "public"."DoctorPattern"."doctorId" IN ($2,$3,$4,$5,$6)) OFFSET $7
 GET /api/doctors 200 in 1466ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 1546ms
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."ScheduleDoctor"."scheduleId") WHERE ("public"."ScheduleDoctor"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."name", "public"."Doctor"."shortName" FROM "public"."Doctor" WHERE "public"."Doctor"."id" IN ($1,$2,$3) OFFSET $4
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20) OFFSET $21
Querying leave applications for date: 2025-10-27T00:00:00.000Z
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" = $2 AND "public"."LeaveApplication"."status" = CAST($3::text AS "public"."ApplicationStatus")) OFFSET $4
Found leave applications: 0
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND "public"."StaffAssignment"."shiftType" = CAST($2::text AS "public"."ShiftType") AND ("j1"."clinicId" = $3 AND "j1"."status" IN (CAST($4::text AS "public"."ScheduleStatus"),CAST($5::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $6
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7) OFFSET $8
 GET /api/schedule/day?date=2025-10-27 200 in 1745ms
 âœ“ Compiled /api/schedule/validate-staff-count in 125ms (628 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 245ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 47ms
 âœ“ Compiled /api/staff/work-days in 198ms (630 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT 1
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."Staff"."id" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2 AND "public"."Staff"."departmentName" = $3) OFFSET $4
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
 GET /api/staff/work-days?staffId=cmh6naxaw001k12lya5c41k0s&year=2025&month=10&includeHoliday=true 200 in 295ms
 âœ“ Compiled /api/staff/weekly-work-days in 248ms (632 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxaw001k12lya5c41k0s&date=2025-10-27 200 in 336ms
 GET /calendar 200 in 210ms
 âœ“ Compiled /_not-found in 493ms (1032 modules)
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 667ms
 âœ“ Compiled /api/auth/[...nextauth] in 168ms (635 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 322ms
 GET /api/auth/session 200 in 53ms
 âœ“ Compiled /api/settings/combinations in 244ms (637 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
 GET /api/auth/session 200 in 480ms
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 544ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 547ms
 GET /api/auth/session 200 in 133ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 130ms
 GET /api/staff 200 in 132ms
 GET /api/auth/session 200 in 69ms
 âœ“ Compiled /api/schedule in 213ms (639 modules)
[33m[auth][warn][debug-enabled][0m Read more: https://warnings.authjs.dev#debug-enabled
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
 GET /api/schedule?year=2025&month=11 200 in 454ms
 GET /api/auth/session 200 in 399ms
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
 GET /api/schedule?year=2025&month=11 200 in 460ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE "public"."DoctorCombination"."clinicId" = $1 ORDER BY "public"."DoctorCombination"."dayOfWeek" ASC, "public"."DoctorCombination"."createdAt" ASC OFFSET $2
 GET /api/settings/combinations 200 in 47ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 40ms
prisma:query SELECT "public"."Schedule"."id", "public"."Schedule"."clinicId", "public"."Schedule"."year", "public"."Schedule"."month", "public"."Schedule"."status"::text, "public"."Schedule"."weekPatterns", "public"."Schedule"."createdAt", "public"."Schedule"."updatedAt", "public"."Schedule"."deployedAt", "public"."Schedule"."deployedStartDate", "public"."Schedule"."deployedEndDate" FROM "public"."Schedule" WHERE ("public"."Schedule"."clinicId" = $1 AND "public"."Schedule"."year" = $2 AND "public"."Schedule"."month" = $3 AND "public"."Schedule"."status" = CAST($4::text AS "public"."ScheduleStatus")) LIMIT $5 OFFSET $6
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" WHERE "public"."ScheduleDoctor"."scheduleId" IN ($1) ORDER BY "public"."ScheduleDoctor"."date" ASC OFFSET $2
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."name", "public"."Doctor"."shortName" FROM "public"."Doctor" WHERE "public"."Doctor"."id" IN ($1,$2,$3,$4,$5) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" WHERE "public"."StaffAssignment"."scheduleId" IN ($1) ORDER BY "public"."StaffAssignment"."date" ASC OFFSET $2
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20) OFFSET $21
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" >= $2 AND "public"."LeaveApplication"."date" <= $3 AND "public"."LeaveApplication"."status" = CAST($4::text AS "public"."ApplicationStatus")) OFFSET $5
 GET /api/schedule?year=2025&month=10 200 in 92ms
prisma:query SELECT "public"."ScheduleDoctor"."id", "public"."ScheduleDoctor"."scheduleId", "public"."ScheduleDoctor"."doctorId", "public"."ScheduleDoctor"."date", "public"."ScheduleDoctor"."hasNightShift" FROM "public"."ScheduleDoctor" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."ScheduleDoctor"."scheduleId") WHERE ("public"."ScheduleDoctor"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."name", "public"."Doctor"."shortName" FROM "public"."Doctor" WHERE "public"."Doctor"."id" IN ($1,$2,$3) OFFSET $4
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND ("j1"."clinicId" = $2 AND "j1"."status" IN (CAST($3::text AS "public"."ScheduleStatus"),CAST($4::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $5
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20) OFFSET $21
Querying leave applications for date: 2025-10-27T00:00:00.000Z
prisma:query SELECT "public"."LeaveApplication"."id", "public"."LeaveApplication"."clinicId", "public"."LeaveApplication"."linkId", "public"."LeaveApplication"."staffId", "public"."LeaveApplication"."date", "public"."LeaveApplication"."leaveType"::text, "public"."LeaveApplication"."status"::text, "public"."LeaveApplication"."holdReason", "public"."LeaveApplication"."createdAt", "public"."LeaveApplication"."updatedAt" FROM "public"."LeaveApplication" WHERE ("public"."LeaveApplication"."clinicId" = $1 AND "public"."LeaveApplication"."date" = $2 AND "public"."LeaveApplication"."status" = CAST($3::text AS "public"."ApplicationStatus")) OFFSET $4
Found leave applications: 0
prisma:query SELECT "public"."Doctor"."id", "public"."Doctor"."clinicId", "public"."Doctor"."name", "public"."Doctor"."shortName", "public"."Doctor"."specialization", "public"."Doctor"."useCategory", "public"."Doctor"."isActive", "public"."Doctor"."createdAt", "public"."Doctor"."updatedAt" FROM "public"."Doctor" WHERE "public"."Doctor"."clinicId" = $1 ORDER BY "public"."Doctor"."name" ASC OFFSET $2
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."scheduleId", "public"."StaffAssignment"."staffId", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text, "public"."StaffAssignment"."createdAt", "public"."StaffAssignment"."actualCheckInTime", "public"."StaffAssignment"."actualCheckOutTime", "public"."StaffAssignment"."isFlexible", "public"."StaffAssignment"."originalCategory", "public"."StaffAssignment"."assignedCategory" FROM "public"."StaffAssignment" LEFT JOIN "public"."Schedule" AS "j1" ON ("j1"."id") = ("public"."StaffAssignment"."scheduleId") WHERE ("public"."StaffAssignment"."date" = $1 AND "public"."StaffAssignment"."shiftType" = CAST($2::text AS "public"."ShiftType") AND ("j1"."clinicId" = $3 AND "j1"."status" IN (CAST($4::text AS "public"."ScheduleStatus"),CAST($5::text AS "public"."ScheduleStatus")) AND ("j1"."id" IS NOT NULL))) OFFSET $6
prisma:query SELECT 1
prisma:query SELECT "public"."DoctorPattern"."id", "public"."DoctorPattern"."doctorId", "public"."DoctorPattern"."patternName", "public"."DoctorPattern"."isActive", "public"."DoctorPattern"."createdAt", "public"."DoctorPattern"."updatedAt" FROM "public"."DoctorPattern" WHERE ("public"."DoctorPattern"."isActive" = $1 AND "public"."DoctorPattern"."doctorId" IN ($2,$3,$4,$5,$6)) OFFSET $7
 GET /api/doctors 200 in 117ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."categoryName", "public"."Staff"."departmentName" FROM "public"."Staff" WHERE "public"."Staff"."id" IN ($1,$2,$3,$4,$5,$6,$7) OFFSET $8
 GET /api/schedule/day?date=2025-10-27 200 in 120ms
prisma:query SELECT "public"."Staff"."id", "public"."Staff"."clinicId", "public"."Staff"."name", "public"."Staff"."rank"::text, "public"."Staff"."departmentName", "public"."Staff"."categoryName", "public"."Staff"."position", "public"."Staff"."flexibleForCategories", "public"."Staff"."flexibilityPriority", "public"."Staff"."phoneNumber", "public"."Staff"."email", "public"."Staff"."birthDate", "public"."Staff"."birthDateStr", "public"."Staff"."hireDate", "public"."Staff"."workDays", "public"."Staff"."workType"::text, "public"."Staff"."pin", "public"."Staff"."totalAnnualDays", "public"."Staff"."usedAnnualDays", "public"."Staff"."registeredDevices", "public"."Staff"."fairnessScoreTotalDays", "public"."Staff"."fairnessScoreNight", "public"."Staff"."fairnessScoreWeekend", "public"."Staff"."fairnessScoreHoliday", "public"."Staff"."fairnessScoreHolidayAdjacent", "public"."Staff"."isActive", "public"."Staff"."createdAt", "public"."Staff"."updatedAt" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2) ORDER BY "public"."Staff"."rank" ASC, "public"."Staff"."name" ASC OFFSET $3
 GET /api/staff 200 in 121ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 104ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 39ms
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 47ms
prisma:query SELECT 1
prisma:query SELECT "public"."DoctorCombination"."id", "public"."DoctorCombination"."clinicId", "public"."DoctorCombination"."name", "public"."DoctorCombination"."dayOfWeek", "public"."DoctorCombination"."requiredStaff", "public"."DoctorCombination"."departmentRequiredStaff", "public"."DoctorCombination"."departmentCategoryStaff", "public"."DoctorCombination"."doctors", "public"."DoctorCombination"."hasNightShift", "public"."DoctorCombination"."createdAt", "public"."DoctorCombination"."updatedAt" FROM "public"."DoctorCombination" WHERE ("public"."DoctorCombination"."clinicId" = $1 AND "public"."DoctorCombination"."doctors" && $2) LIMIT $3 OFFSET $4
 POST /api/schedule/validate-staff-count 200 in 49ms
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."Staff"."id" FROM "public"."Staff" WHERE ("public"."Staff"."clinicId" = $1 AND "public"."Staff"."isActive" = $2 AND "public"."Staff"."departmentName" = $3) OFFSET $4
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
prisma:query SELECT "public"."StaffAssignment"."id", "public"."StaffAssignment"."date", "public"."StaffAssignment"."shiftType"::text FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6
 GET /api/staff/work-days?staffId=cmh6naxaw001k12lya5c41k0s&year=2025&month=10&includeHoliday=true 200 in 94ms
prisma:query SELECT COUNT(*) FROM (SELECT "public"."StaffAssignment"."id" FROM "public"."StaffAssignment" WHERE ("public"."StaffAssignment"."staffId" = $1 AND "public"."StaffAssignment"."date" >= $2 AND "public"."StaffAssignment"."date" <= $3 AND "public"."StaffAssignment"."shiftType" IN (CAST($4::text AS "public"."ShiftType"),CAST($5::text AS "public"."ShiftType"))) OFFSET $6) AS "sub"
 GET /api/staff/weekly-work-days?staffId=cmh6naxaw001k12lya5c41k0s&date=2025-10-27 200 in 43ms
 âœ“ Compiled in 1445ms (847 modules)
 âœ“ Compiled /api/staff in 338ms (622 modules)
